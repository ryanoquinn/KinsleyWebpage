<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hey, Beautiful 💙</title>
  <meta name="description" content="A little corner of the web just for you." />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #0f172a;
      --text: #e5e7eb;
      --muted: #cbd5e1;
      --card: #0b1324;
      --line: #1d283a;
      --lineSoft: #374151;
      --accent: #60a5fa;
      --accent2: #f472b6;

      /* Button palette */
      --btn-primary-start: #3b82f6;
      /* blue-500 */
      --btn-primary-end: #2563eb;
      /* blue-600 */
      --btn-secondary-bg: #0f1a2f;
      /* sleek dark */
      --btn-secondary-brd: #22324d;
      --btn-hover-raise: -1px;
    }

    * {
      box-sizing: border-box;
    }

    html,
    body {
      height: 100%;
    }

    body {
      margin: 0;
      font-family: 'Poppins', system-ui, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--text);
      background:
        radial-gradient(1200px 800px at 10% 10%, #0b1220 0%, var(--bg) 60%),
        radial-gradient(1000px 900px at 90% 30%, #111827 0%, var(--bg) 70%);
      overflow-x: hidden;
    }

    /* Header */
    header {
      position: fixed;
      inset: 0 0 auto 0;
      height: 64px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
      background: #0f172a80;
      backdrop-filter: blur(6px);
      border-bottom: 1px solid var(--line);
      z-index: 20;
    }

    .brand {
      font-weight: 600;
      letter-spacing: .3px;
    }

    header nav a,
    header nav button {
      color: var(--text);
      text-decoration: none;
      margin-left: 16px;
      opacity: .9;
      background: none;
      border: 0;
      cursor: pointer;
      font: inherit;
    }

    header nav a:hover,
    header nav button:hover {
      opacity: 1;
    }

    /* Dramatic pre-navigation overlay */
    .fx-overlay {
      position: fixed;
      inset: 0;
      pointer-events: none;
      opacity: 0;
      transform: scale(1.05);
      z-index: 200;
    }

    .fx-overlay.show {
      animation: sweep 600ms ease forwards;
      background: radial-gradient(200px 200px at 50% 50%, #60a5fa55, #0000 40%);
    }

    @keyframes sweep {
      0% {
        opacity: 0;
        transform: scale(1.05);
      }

      30% {
        opacity: 1;
      }

      100% {
        opacity: 0;
        transform: scale(1);
      }
    }

    /* Layout */
    main {
      min-height: 100vh;
      padding: 96px 20px 40px;
      display: grid;
      place-items: center;
    }

    .card {
      width: min(100%, 1050px);
      background: linear-gradient(180deg, #111827cc, #0b1324cc);
      border: 1px solid var(--line);
      border-radius: 28px;
      padding: 42px 40px;
      box-shadow:
        0 24px 70px #0009,
        inset 0 1px 0 #334155;
      display: grid;
      gap: 28px;
    }

    .hero {
      display: grid;
      gap: 26px;
      align-items: center;
      grid-template-columns: 1.2fr 1fr;
    }

    /* Media */
    .media {
      position: relative;
    }

    .media img {
      width: 100%;
      height: auto;
      object-fit: cover;
      border-radius: 20px;
      border: 1px solid var(--line);
      display: block;
      box-shadow: 0 16px 36px rgba(0, 0, 0, .45);
    }

    .ph {
      display: none;
      width: 100%;
      aspect-ratio: 4 / 3;
      border-radius: 20px;
      border: 1px solid var(--lineSoft);
      background: repeating-linear-gradient(45deg, #0e1a33, #0e1a33 12px, #122042 12px, #122042 24px);
      place-items: center;
      color: #cbd5e1;
      font-weight: 600;
    }

    /* Type */
    h1 {
      margin: 0;
      font-size: clamp(32px, 5.2vw, 64px);
      line-height: 1.06;
    }

    .glow {
      background: linear-gradient(90deg, var(--accent), var(--accent2));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      text-shadow: 0 0 24px #60a5fa40;
    }

    p {
      margin: 0;
      opacity: .92;
    }

    /* CTA Buttons (sleek, spread out) */
    .cta {
      margin-top: 16px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 16px;
    }

    .btn {
      --ring: rgba(96, 165, 250, .35);
      padding: 14px 18px;
      border-radius: 14px;
      border: 1px solid var(--btn-secondary-brd);
      background: linear-gradient(180deg, #0f1a2f, #0b1426);
      color: var(--text);
      text-decoration: none;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      font-weight: 500;
      letter-spacing: .2px;
      transition: transform .15s ease, filter .2s ease, border-color .2s ease, box-shadow .2s ease;
      box-shadow:
        0 10px 24px rgba(0, 0, 0, .28),
        0 0 0 0 var(--ring);
    }

    .btn:hover {
      transform: translateY(var(--btn-hover-raise));
      filter: brightness(1.03);
    }

    .btn:focus-visible {
      outline: none;
      box-shadow: 0 0 0 3px var(--ring);
    }

    .btn.primary {
      border-color: #1e40af;
      background: linear-gradient(135deg, var(--btn-primary-start), var(--btn-primary-end));
      box-shadow:
        0 14px 28px rgba(37, 99, 235, .28),
        inset 0 1px 0 rgba(255, 255, 255, .06);
    }

    .btn.ghost {
      background: linear-gradient(180deg, #0c1530, #0a1226);
      border-color: #263556;
    }

    /* Anniversary countdown */
    .anniv {
      margin-top: 18px;
      border: 1px solid var(--lineSoft);
      background: linear-gradient(180deg, #0e1528, #0b1324);
      border-radius: 16px;
      padding: 16px;
      display: grid;
      gap: 12px;
    }

    .anniv-top {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 10px;
      flex-wrap: wrap;
    }

    .anniv-title {
      font-weight: 600;
      letter-spacing: .3px;
      opacity: .95;
    }

    .anniv-sub {
      opacity: .75;
      font-size: .95rem;
    }

    .anniv-timer {
      display: flex;
      gap: 14px;
      flex-wrap: wrap;
    }

    .anniv-timer .chunk {
      display: grid;
      place-items: center;
      min-width: 86px;
      padding: 10px 12px;
      border: 1px solid #2b3a57;
      background: #0f1a2f;
      border-radius: 12px;
      box-shadow: inset 0 1px 0 rgba(255, 255, 255, .03);
    }

    .anniv-timer .num {
      font-size: 28px;
      font-weight: 600;
      line-height: 1;
    }

    .anniv-timer .lbl {
      font-size: .8rem;
      opacity: .8;
    }

    /* Rotating sentences (no boxes) */
    .rotator {
      margin-top: 8px;
      min-height: 28px;
      /* reserve space so layout doesn't jump */
      font-size: 1.05rem;
      color: var(--muted);
    }

    .rot-line {
      opacity: 0;
      transform: translateY(6px);
      transition: opacity 600ms ease, transform 600ms ease;
      will-change: opacity, transform;
      text-shadow: 0 1px 2px rgba(0, 0, 0, .35);
    }

    .rot-line.show {
      opacity: 1;
      transform: translateY(0);
    }

    /* Confetti canvas */
    .confetti {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 300;
    }

    /* Footer */
    footer {
      text-align: center;
      padding: 32px 16px;
      opacity: .7;
    }

    /* Responsive */
    @media (max-width: 980px) {
      .card {
        padding: 32px 24px;
      }
    }

    @media (max-width: 880px) {
      .hero {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>

<body>
  <div class="fx-overlay" id="fx"></div>

  <header>
    <div class="brand">💙 For You</div>
    <nav>
      <a href="index.html">Home</a>
      <a href="memories.html" id="memoriesLink">Memories</a>
      <a href="note.html">Note</a>
      <button id="helpBtn">Help</button>
    </nav>
  </header>

  <main>
    <section class="card" id="about">
      <div class="hero">
        <div>
          <h1>Hey <span class="glow">Kinsley</span> ✨</h1>
          <p>This is a little site I made just for you to reflect on us while I'm gone.</p>

          <!-- Sleek CTA grid -->
          <div class="cta">
            <a class="btn primary" href="memories.html" id="memoriesBtn">See memories</a>
            <a class="btn ghost" href="note.html">Read Me</a>
            <a class="btn ghost" href="video.html" id="videoBtn">Click here to watch video</a>
          </div>

          <!-- Anniversary countdown -->
          <div class="anniv" id="annivBox" aria-live="polite">
            <div class="anniv-top">
              <div class="anniv-title">Our Monthly Anniversary</div>
              <div class="anniv-sub">Every month on the <strong>14th</strong></div>
            </div>
            <div class="anniv-timer" id="annivTimer" role="timer" aria-label="Countdown to next anniversary">
              <div class="chunk">
                <div class="num" id="aDays">00</div>
                <div class="lbl">days</div>
              </div>
              <div class="chunk">
                <div class="num" id="aHours">00</div>
                <div class="lbl">hours</div>
              </div>
              <div class="chunk">
                <div class="num" id="aMins">00</div>
                <div class="lbl">mins</div>
              </div>
              <div class="chunk">
                <div class="num" id="aSecs">00</div>
                <div class="lbl">secs</div>
              </div>
            </div>
            <div class="anniv-sub" id="annivNote"></div>
          </div>

          <!-- Rotating sentences (no boxes) -->
          <div class="rotator" aria-live="off">
            <div class="rot-line" id="rotLine">I found true purpose in my life when you arrived.</div>
          </div>
        </div>

        <div class="media">
          <!-- If your hero image lives in docs/images/memories/, change to images/memories/hero.jpg -->
          <img src="images/hero.jpg" alt="A favorite photo of us"
            onerror="this.style.display='none'; this.nextElementSibling.style.display='grid';" />
          <div class="ph">Add <code>docs/images/hero.jpg</code></div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    I made this with a bittersweet heart.
  </footer>

  <!-- Help modal -->
  <dialog id="helpModal">
    <h3>How to use this site</h3>
    <ol>
      <li>Put photos in <code>docs/images/</code> (or <code>docs/images/memories/</code> for gallery).</li>
      <li>GitHub Pages: <strong>Branch:</strong> main, <strong>Folder:</strong> /docs.</li>
      <li>Click “Read Me” to open your dedicated message page.</li>
    </ol>
    <button class="btn ghost" id="closeHelp">Close</button>
  </dialog>

  <script>
    // Help modal
    (function () {
      const helpModal = document.getElementById("helpModal");
      const helpBtn = document.getElementById("helpBtn");
      const closeBtn = document.getElementById("closeHelp");
      if (helpBtn && helpModal) helpBtn.addEventListener("click", () => helpModal.showModal());
      if (closeBtn && helpModal) closeBtn.addEventListener("click", () => helpModal.close());
    })();

    // Dramatic effect before navigating to Memories or Video
    (function () {
      const fx = document.getElementById('fx');
      function goWithEffect(e, href) {
        e.preventDefault();
        fx.classList.add('show');
        setTimeout(() => { window.location.href = href; }, 450);
      }
      const memLink = document.getElementById('memoriesLink');
      const memBtn = document.getElementById('memoriesBtn');
      const videoBtn = document.getElementById('videoBtn');
      if (memLink) memLink.addEventListener('click', (e) => goWithEffect(e, 'memories.html'));
      if (memBtn) memBtn.addEventListener('click', (e) => goWithEffect(e, 'memories.html'));
      if (videoBtn) videoBtn.addEventListener('click', (e) => goWithEffect(e, 'video.html'));
    })();

    // Light cache-busting for assets (images, scripts, styles)
    (function () {
      const v = Date.now();
      document.querySelectorAll('link[rel="stylesheet"], script[src], img[src]').forEach(el => {
        const attr = el.tagName === 'LINK' ? 'href' : 'src';
        if (el[attr] && !el[attr].includes('?v=')) {
          el.setAttribute(attr, el[attr] + (el[attr].includes('?') ? '&' : '?') + 'v=' + v);
        }
      });
    })();

    // ===== Anniversary Countdown & Confetti =====
    (function () {
      const $ = (id) => document.getElementById(id);
      const dEl = $('aDays'), hEl = $('aHours'), mEl = $('aMins'), sEl = $('aSecs');
      const noteEl = $('annivNote');
      const timerEl = $('annivTimer');

      function nextFourteenth(now) {
        const y = now.getFullYear();
        const m = now.getMonth(); // 0-11
        const todayIs14 = now.getDate() === 14;
        if (todayIs14) return null; // today is anniversary day
        if (now.getDate() < 14) return new Date(y, m, 14, 0, 0, 0, 0);
        return new Date(y, m + 1, 14, 0, 0, 0, 0);
      }
      const pad = (n) => String(n).padStart(2, '0');

      function tick() {
        const now = new Date();
        // If it's the 14th, celebrate and stop countdown
        if (now.getDate() === 14) {
          timerEl.style.display = 'none';
          noteEl.innerHTML = "Happy Anniversary! 💙";
          maybeConfettiOncePerDay();
          return;
        }

        const target = nextFourteenth(now);
        if (!target) return;

        let diff = target - now;
        if (diff < 0) diff = 0;
        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const mins = Math.floor((diff / (1000 * 60)) % 60);
        const secs = Math.floor((diff / 1000) % 60);

        dEl.textContent = pad(days);
        hEl.textContent = pad(hours);
        mEl.textContent = pad(mins);
        sEl.textContent = pad(secs);

        const monthName = target.toLocaleString(undefined, { month: 'long' });
        noteEl.textContent = `Counting down to ${monthName} 14.`;
        timerEl.style.display = 'flex';
      }

      // Fire confetti only once per anniversary day (per browser/day)
      function maybeConfettiOncePerDay() {
        const now = new Date();
        const key = `confettiFired-${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-14`;
        if (sessionStorage.getItem(key) === 'yes') return;
        sessionStorage.setItem(key, 'yes');
        shootConfetti(260, 4200);
      }

      // Minimal canvas confetti (no libs)
      function shootConfetti(count = 220, duration = 4000) {
        const cvs = document.createElement('canvas');
        cvs.className = 'confetti';
        document.body.appendChild(cvs);
        const ctx = cvs.getContext('2d');
        let w, h, t0;

        const colors = ['#60a5fa', '#f472b6', '#34d399', '#f59e0b', '#a78bfa', '#f87171', '#22d3ee'];
        const pieces = [];
        function resize() { w = cvs.width = window.innerWidth; h = cvs.height = window.innerHeight; }
        window.addEventListener('resize', resize);
        resize();

        for (let i = 0; i < count; i++) {
          pieces.push({
            x: Math.random() * w,
            y: -20 - Math.random() * h * 0.4,
            r: 4 + Math.random() * 6,
            c: colors[Math.floor(Math.random() * colors.length)],
            vx: -2 + Math.random() * 4,
            vy: 2 + Math.random() * 3,
            rot: Math.random() * Math.PI,
            vr: (-0.2 + Math.random() * 0.4),
            shape: Math.random() < 0.5 ? 'rect' : 'circ'
          });
        }

        function drawPiece(p) {
          ctx.save();
          ctx.translate(p.x, p.y);
          ctx.rotate(p.rot);
          ctx.fillStyle = p.c;
          if (p.shape === 'rect') {
            ctx.fillRect(-p.r, -p.r, p.r * 2, p.r * 2 * (0.6 + Math.random() * 0.4));
          } else {
            ctx.beginPath();
            ctx.arc(0, 0, p.r, 0, Math.PI * 2);
            ctx.fill();
          }
          ctx.restore();
        }

        function step(ts) {
          if (!t0) t0 = ts;
          const dt = Math.min(32, ts - t0);
          t0 = ts;

          ctx.clearRect(0, 0, w, h);
          pieces.forEach(p => {
            p.vy += 0.06; p.x += p.vx; p.y += p.vy; p.rot += p.vr;
            if (p.x < -20) p.x = w + 20;
            if (p.x > w + 20) p.x = -20;
            drawPiece(p);
          });

          if (ts - (t0 - dt) < duration) {
            requestAnimationFrame(step);
          } else {
            setTimeout(() => { cvs.remove(); window.removeEventListener('resize', resize); }, 300);
          }
        }
        requestAnimationFrame(step);
      }

      tick();
      setInterval(tick, 1000);
    })();

    // ===== Rotating sentences (fade in/out, no boxes) =====
    (function () {
      const el = document.getElementById('rotLine');
      // Edit/add any lines you want here:
      const LINES = [
        "I found true purpose in my life when you arrived.",
        "Everything about you is my favorite thing.",
        "God has truly blessed me with you.",
        "You’re my calm, my spark, my home.",
        "I’ll love you on the 14th—and every other day too."
      ];

      let i = 0;
      const SHOW_MS = 2600;  // time fully visible
      const HIDE_MS = 600;   // fade duration (matches CSS)
      const PAUSE_MS = 300;  // brief pause before next fade-in

      function show(text) {
        el.textContent = text;
        // force reflow to restart transition
        void el.offsetWidth;
        el.classList.add('show');
      }
      function hide(cb) {
        el.classList.remove('show');
        setTimeout(cb, HIDE_MS);
      }

      function cycle() {
        show(LINES[i]);
        setTimeout(() => {
          hide(() => {
            i = (i + 1) % LINES.length;
            setTimeout(cycle, PAUSE_MS);
          });
        }, SHOW_MS);
      }

      // initial kick
      cycle();
    })();
  </script>
</body>

</html>